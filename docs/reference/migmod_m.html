<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The model estimates 'true', unobserved bilateral migration flows \(y_{ijt}\) from sending country \(i\) to receiving country \(j\) in year \(t\). It relies on data reported by receiving countries (immigration, \(z_{ijt}^R\)) and sending countries (emigration, \(z_{ijt}^S\)). It is based on methodology developed by Raymer et al. (2013). The data are Poisson-distributed with mean \(\mu_{ijt}^k\):
\(z_{ijt}^k\sim\mathrm{Poisson}\left(\mu_{ijt}^k\right)\).
The true migration flows then result from correcting the expected values of the data for biases represented by parameters \(\lambda\) and different accuracies of the sending and receiving countries' data \(\sigma\):
\(\log\mu_{ijt}^k  \sim \mathrm{normal}\left(\log y_{ijt}+\lambda_{f(i,j)}, \sigma_{g(i,j)}^k\right)\).
The true flows are then modelled by using a mixed effects model that contains an autoregressive part with parameter \(\phi\) and a gravity-type model with populations of sending (\(X_{it}\)) and receiving (\(X_{jt}\)) countries as well as distance \(D_{ij}\) between them:
\(\log y_{ijt}^k  \sim \mathrm{normal}\left(\psi_0 + \psi_{1,ij}\log y_{ijt-1} + \beta_1 \log X_{it} + \beta_2 \log X_{jt} + \beta_3 D_{ij}, \sigma_y\right)\)
Note, that this specification requires that there are no fully unobserved flows in the model."><title>Function to estimate migration model — migmod_m • MigMod</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Function to estimate migration model — migmod_m"><meta property="og:description" content="The model estimates 'true', unobserved bilateral migration flows \(y_{ijt}\) from sending country \(i\) to receiving country \(j\) in year \(t\). It relies on data reported by receiving countries (immigration, \(z_{ijt}^R\)) and sending countries (emigration, \(z_{ijt}^S\)). It is based on methodology developed by Raymer et al. (2013). The data are Poisson-distributed with mean \(\mu_{ijt}^k\):
\(z_{ijt}^k\sim\mathrm{Poisson}\left(\mu_{ijt}^k\right)\).
The true migration flows then result from correcting the expected values of the data for biases represented by parameters \(\lambda\) and different accuracies of the sending and receiving countries' data \(\sigma\):
\(\log\mu_{ijt}^k  \sim \mathrm{normal}\left(\log y_{ijt}+\lambda_{f(i,j)}, \sigma_{g(i,j)}^k\right)\).
The true flows are then modelled by using a mixed effects model that contains an autoregressive part with parameter \(\phi\) and a gravity-type model with populations of sending (\(X_{it}\)) and receiving (\(X_{jt}\)) countries as well as distance \(D_{ij}\) between them:
\(\log y_{ijt}^k  \sim \mathrm{normal}\left(\psi_0 + \psi_{1,ij}\log y_{ijt-1} + \beta_1 \log X_{it} + \beta_2 \log X_{jt} + \beta_3 D_{ij}, \sigma_y\right)\)
Note, that this specification requires that there are no fully unobserved flows in the model."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">MigMod</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Function to estimate migration model</h1>
      
      <div class="d-none name"><code>migmod_m.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The model estimates 'true', unobserved bilateral migration flows \(y_{ijt}\) from sending country \(i\) to receiving country \(j\) in year \(t\). It relies on data reported by receiving countries (immigration, \(z_{ijt}^R\)) and sending countries (emigration, \(z_{ijt}^S\)). It is based on methodology developed by Raymer <em>et al</em>. (2013). The data are Poisson-distributed with mean \(\mu_{ijt}^k\):</p>
<p>\(z_{ijt}^k\sim\mathrm{Poisson}\left(\mu_{ijt}^k\right)\).</p>
<p>The true migration flows then result from correcting the expected values of the data for biases represented by parameters \(\lambda\) and different accuracies of the sending and receiving countries' data \(\sigma\):</p>
<p>\(\log\mu_{ijt}^k  \sim \mathrm{normal}\left(\log y_{ijt}+\lambda_{f(i,j)}, \sigma_{g(i,j)}^k\right)\).</p>
<p>The true flows are then modelled by using a mixed effects model that contains an autoregressive part with parameter \(\phi\) and a gravity-type model with populations of sending (\(X_{it}\)) and receiving (\(X_{jt}\)) countries as well as distance \(D_{ij}\) between them:</p>
<p>\(\log y_{ijt}^k  \sim \mathrm{normal}\left(\psi_0 + \psi_{1,ij}\log y_{ijt-1} + \beta_1 \log X_{it} + \beta_2 \log X_{jt} + \beta_3 D_{ij}, \sigma_y\right)\)</p>
<p>Note, that this specification requires that there are no fully unobserved flows in the model.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">migmod_m</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  sending <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SE"</span>, <span class="st">"FI"</span>, <span class="st">"IT"</span>, <span class="st">"PL"</span><span class="op">)</span>,</span>
<span>  receiving <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SE"</span>, <span class="st">"FI"</span>, <span class="st">"IT"</span>, <span class="st">"PL"</span><span class="op">)</span>,</span>
<span>  years <span class="op">=</span> <span class="fl">2010</span><span class="op">:</span><span class="fl">2019</span>,</span>
<span>  ref.country <span class="op">=</span> <span class="st">"SE"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>df</dt>
<dd><p>A data frame with migration data for sending countries, receiving countries, data quality measures and covariates</p></dd>


<dt>sending</dt>
<dd><p>A vector of ISO2 codes with sending countries to be used in the model (recommended to keep SE and FI)</p></dd>


<dt>receiving</dt>
<dd><p>A vector of ISO2 codes with receiving countries to be used in the model (recommended to keep SE and FI)</p></dd>


<dt>years</dt>
<dd><p>A vector of years to be used in the model (2010 to 2019).</p></dd>


<dt>ref.country</dt>
<dd><p>A character with an ISO2 code receiving country which immigration data are is used as a reference. This assumes that the data reported by this country are not biased. This assumption ensures identification of model parameters. It is strongly recommended to use Sweden ("SE") as a reference.</p></dd>


<dt>...</dt>
<dd><p>Arguments passed to function <code><a href="https://mc-stan.org/rstan/reference/stanmodel-method-sampling.html" class="external-link">sampling</a></code> from package <span class="pkg">rstan</span> (e.g. iter, chains) or <code><a href="data_2_standata.html">data_2_standata</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An object of class <code>stanfit</code> returned by <code><a href="https://mc-stan.org/rstan/reference/stanmodel-method-sampling.html" class="external-link">rstan::sampling</a></code></p>


    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Raymer J., Wiśniowski A., Forster J. J., Smith P. W. &amp; Bijak J. (2013). Integrated modeling of European migration. <em>Journal of the American Statistical Association</em>, 108(503), 801-819. <a href="https://doi.org/10.1080/01621459.2013.789435" class="external-link">https://doi.org/10.1080/01621459.2013.789435</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://mc-stan.org/rstan/reference/stan.html" class="external-link">stan</a></code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Arkadiusz Wiśniowski.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

